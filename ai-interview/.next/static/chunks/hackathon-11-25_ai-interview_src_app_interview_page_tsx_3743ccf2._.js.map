{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielnovick/Documents/Coding/hackathon-11-25/ai-interview/src/app/interview/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { LiveKitRoom, VideoConference } from \"@livekit/components-react\";\nimport \"@livekit/components-styles\";\nimport { useEffect, useState } from \"react\";\n\nexport default function InterviewPage() {\n  const [token, setToken] = useState<string | null>(null);\n  const [roomName] = useState(() => `interview-${Date.now()}`);\n  const [participantName] = useState(() => `user-${Math.random().toString(36).substring(7)}`);\n  const [isConnecting, setIsConnecting] = useState(false);\n\n  useEffect(() => {\n    const fetchToken = async () => {\n      try {\n        setIsConnecting(true);\n        const response = await fetch(\"/api/livekit/token\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            roomName,\n            participantName,\n          }),\n        });\n\n        if (!response.ok) {\n          throw new Error(\"Failed to fetch token\");\n        }\n\n        const data = await response.json();\n        setToken(data.token);\n      } catch (error) {\n        console.error(\"Error fetching token:\", error);\n        alert(\"Failed to connect to interview. Please check your LiveKit configuration.\");\n      } finally {\n        setIsConnecting(false);\n      }\n    };\n\n    fetchToken();\n  }, [roomName, participantName]);\n\n  if (isConnecting || !token) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-gradient-to-b from-[#2e026d] to-[#15162c]\">\n        <div className=\"text-center text-white\">\n          <div className=\"mb-4 text-2xl font-bold\">Connecting to Interview...</div>\n          <div className=\"animate-spin rounded-full border-4 border-white border-t-transparent h-12 w-12 mx-auto\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  const serverUrl = process.env.NEXT_PUBLIC_LIVEKIT_URL;\n  \n  if (!serverUrl) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-gradient-to-b from-[#2e026d] to-[#15162c]\">\n        <div className=\"text-center text-white\">\n          <div className=\"mb-4 text-2xl font-bold\">Configuration Error</div>\n          <div className=\"text-lg\">NEXT_PUBLIC_LIVEKIT_URL is not set</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-screen w-screen\">\n      <LiveKitRoom\n        video={true}\n        audio={true}\n        token={token}\n        serverUrl={serverUrl}\n        data-lk-theme=\"default\"\n        style={{ height: \"100dvh\" }}\n        onDisconnected={() => {\n          console.log(\"Disconnected from room\");\n        }}\n      >\n        <div className=\"flex h-full flex-col\">\n          <div className=\"bg-gradient-to-r from-[#2e026d] to-[#15162c] px-6 py-4\">\n            <h1 className=\"text-2xl font-bold text-white\">AI Interview</h1>\n            <p className=\"text-sm text-white/80\">Room: {roomName}</p>\n          </div>\n          <div className=\"flex-1\">\n            <VideoConference />\n          </div>\n        </div>\n      </LiveKitRoom>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;AAuDoB;;AArDpB;AAAA;AAEA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,qNAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,GAAG,IAAA,qNAAQ;kCAAC,IAAM,AAAC,aAAuB,OAAX,KAAK,GAAG;;IACvD,MAAM,CAAC,gBAAgB,GAAG,IAAA,qNAAQ;kCAAC,IAAM,AAAC,QAA+C,OAAxC,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC;;IACtF,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,qNAAQ,EAAC;IAEjD,IAAA,sNAAS;mCAAC;YACR,MAAM;sDAAa;oBACjB,IAAI;wBACF,gBAAgB;wBAChB,MAAM,WAAW,MAAM,MAAM,sBAAsB;4BACjD,QAAQ;4BACR,SAAS;gCACP,gBAAgB;4BAClB;4BACA,MAAM,KAAK,SAAS,CAAC;gCACnB;gCACA;4BACF;wBACF;wBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;4BAChB,MAAM,IAAI,MAAM;wBAClB;wBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;wBAChC,SAAS,KAAK,KAAK;oBACrB,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,yBAAyB;wBACvC,MAAM;oBACR,SAAU;wBACR,gBAAgB;oBAClB;gBACF;;YAEA;QACF;kCAAG;QAAC;QAAU;KAAgB;IAE9B,IAAI,gBAAgB,CAAC,OAAO;QAC1B,qBACE,yOAAC;YAAI,WAAU;sBACb,cAAA,yOAAC;gBAAI,WAAU;;kCACb,yOAAC;wBAAI,WAAU;kCAA0B;;;;;;kCACzC,yOAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;IAIvB;IAEA,MAAM;IAEN;;IAWA,qBACE,yOAAC;QAAI,WAAU;kBACb,cAAA,yOAAC,+QAAW;YACV,OAAO;YACP,OAAO;YACP,OAAO;YACP,WAAW;YACX,iBAAc;YACd,OAAO;gBAAE,QAAQ;YAAS;YAC1B,gBAAgB;gBACd,QAAQ,GAAG,CAAC;YACd;sBAEA,cAAA,yOAAC;gBAAI,WAAU;;kCACb,yOAAC;wBAAI,WAAU;;0CACb,yOAAC;gCAAG,WAAU;0CAAgC;;;;;;0CAC9C,yOAAC;gCAAE,WAAU;;oCAAwB;oCAAO;;;;;;;;;;;;;kCAE9C,yOAAC;wBAAI,WAAU;kCACb,cAAA,yOAAC,sOAAe;;;;;;;;;;;;;;;;;;;;;;;;;;AAM5B;GAvFwB;KAAA","debugId":null}}]
}