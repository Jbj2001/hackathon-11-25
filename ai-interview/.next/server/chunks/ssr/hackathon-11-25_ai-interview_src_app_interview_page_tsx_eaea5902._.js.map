{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielnovick/Documents/Coding/hackathon-11-25/ai-interview/src/app/interview/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { LiveKitRoom, VideoConference } from \"@livekit/components-react\";\nimport \"@livekit/components-styles\";\nimport { useEffect, useState } from \"react\";\n\nexport default function InterviewPage() {\n  const [token, setToken] = useState<string | null>(null);\n  const [roomName] = useState(() => `interview-${Date.now()}`);\n  const [participantName] = useState(() => `user-${Math.random().toString(36).substring(7)}`);\n  const [isConnecting, setIsConnecting] = useState(false);\n\n  useEffect(() => {\n    const fetchToken = async () => {\n      try {\n        setIsConnecting(true);\n        const response = await fetch(\"/api/livekit/token\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            roomName,\n            participantName,\n          }),\n        });\n\n        if (!response.ok) {\n          throw new Error(\"Failed to fetch token\");\n        }\n\n        const data = await response.json();\n        setToken(data.token);\n      } catch (error) {\n        console.error(\"Error fetching token:\", error);\n        alert(\"Failed to connect to interview. Please check your LiveKit configuration.\");\n      } finally {\n        setIsConnecting(false);\n      }\n    };\n\n    fetchToken();\n  }, [roomName, participantName]);\n\n  if (isConnecting || !token) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-gradient-to-b from-[#2e026d] to-[#15162c]\">\n        <div className=\"text-center text-white\">\n          <div className=\"mb-4 text-2xl font-bold\">Connecting to Interview...</div>\n          <div className=\"animate-spin rounded-full border-4 border-white border-t-transparent h-12 w-12 mx-auto\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  const serverUrl = process.env.NEXT_PUBLIC_LIVEKIT_URL;\n  \n  if (!serverUrl) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-gradient-to-b from-[#2e026d] to-[#15162c]\">\n        <div className=\"text-center text-white\">\n          <div className=\"mb-4 text-2xl font-bold\">Configuration Error</div>\n          <div className=\"text-lg\">NEXT_PUBLIC_LIVEKIT_URL is not set</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-screen w-screen\">\n      <LiveKitRoom\n        video={true}\n        audio={true}\n        token={token}\n        serverUrl={serverUrl}\n        data-lk-theme=\"default\"\n        style={{ height: \"100dvh\" }}\n        onDisconnected={() => {\n          console.log(\"Disconnected from room\");\n        }}\n      >\n        <div className=\"flex h-full flex-col\">\n          <div className=\"bg-gradient-to-r from-[#2e026d] to-[#15162c] px-6 py-4\">\n            <h1 className=\"text-2xl font-bold text-white\">AI Interview</h1>\n            <p className=\"text-sm text-white/80\">Room: {roomName}</p>\n          </div>\n          <div className=\"flex-1\">\n            <VideoConference />\n          </div>\n        </div>\n      </LiveKitRoom>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAEA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6PAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,GAAG,IAAA,6PAAQ,EAAC,IAAM,CAAC,UAAU,EAAE,KAAK,GAAG,IAAI;IAC3D,MAAM,CAAC,gBAAgB,GAAG,IAAA,6PAAQ,EAAC,IAAM,CAAC,KAAK,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC,IAAI;IAC1F,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,6PAAQ,EAAC;IAEjD,IAAA,8PAAS,EAAC;QACR,MAAM,aAAa;YACjB,IAAI;gBACF,gBAAgB;gBAChB,MAAM,WAAW,MAAM,MAAM,sBAAsB;oBACjD,QAAQ;oBACR,SAAS;wBACP,gBAAgB;oBAClB;oBACA,MAAM,KAAK,SAAS,CAAC;wBACnB;wBACA;oBACF;gBACF;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,SAAS,KAAK,KAAK;YACrB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,yBAAyB;gBACvC,MAAM;YACR,SAAU;gBACR,gBAAgB;YAClB;QACF;QAEA;IACF,GAAG;QAAC;QAAU;KAAgB;IAE9B,IAAI,gBAAgB,CAAC,OAAO;QAC1B,qBACE,0RAAC;YAAI,WAAU;sBACb,cAAA,0RAAC;gBAAI,WAAU;;kCACb,0RAAC;wBAAI,WAAU;kCAA0B;;;;;;kCACzC,0RAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;IAIvB;IAEA,MAAM;IAEN;;IAWA,qBACE,0RAAC;QAAI,WAAU;kBACb,cAAA,0RAAC,4QAAW;YACV,OAAO;YACP,OAAO;YACP,OAAO;YACP,WAAW;YACX,iBAAc;YACd,OAAO;gBAAE,QAAQ;YAAS;YAC1B,gBAAgB;gBACd,QAAQ,GAAG,CAAC;YACd;sBAEA,cAAA,0RAAC;gBAAI,WAAU;;kCACb,0RAAC;wBAAI,WAAU;;0CACb,0RAAC;gCAAG,WAAU;0CAAgC;;;;;;0CAC9C,0RAAC;gCAAE,WAAU;;oCAAwB;oCAAO;;;;;;;;;;;;;kCAE9C,0RAAC;wBAAI,WAAU;kCACb,cAAA,0RAAC,mOAAe;;;;;;;;;;;;;;;;;;;;;;;;;;AAM5B","debugId":null}}]
}